<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>To-Do List</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-8">
        <div class="card shadow-sm rounded-4">
          <div class="card-body">
            <h3 class="text-center mb-4">📝 My To-Do List</h3>

            <form id="task-form" class="row g-2 mb-4">
              <div class="col-md-6">
                <input type="text" id="task-input" class="form-control" placeholder="Enter a task" required />
              </div>
              <div class="col-md-4">
                <input type="date" id="deadline-input" class="form-control" />
              </div>
              <div class="col-md-2">
                <button type="submit" class="btn btn-success w-100">Add</button>
              </div>
            </form>

            <ul id="task-list" class="list-group"></ul>

            <div id="empty-msg" class="alert alert-secondary text-center mt-3 d-none">
              No tasks yet. Add one!
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById("task-form");
    const taskInput = document.getElementById("task-input");
    const deadlineInput = document.getElementById("deadline-input");
    const taskList = document.getElementById("task-list");
    const emptyMsg = document.getElementById("empty-msg");

    function updateEmptyMsg() {
      emptyMsg.classList.toggle("d-none", taskList.children.length > 0);
    }

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const taskText = taskInput.value.trim();
      const deadline = deadlineInput.value;
      if (!taskText) return;

      const createdAt = new Date().toLocaleString();

      const li = document.createElement("li");
      li.className = "list-group-item d-flex justify-content-between align-items-start flex-wrap";

      const left = document.createElement("div");
      left.className = "form-check";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.className = "form-check-input";
      checkbox.addEventListener("change", () => {
        taskSpan.classList.toggle("text-decoration-line-through", checkbox.checked);
      });

      const taskSpan = document.createElement("span");
      taskSpan.className = "ms-2";
      taskSpan.innerHTML = `<strong>${taskText}</strong><br><small class="text-muted">Created: ${createdAt}${deadline ? " | Deadline: " + deadline : ""}</small>`;

      left.appendChild(checkbox);
    }